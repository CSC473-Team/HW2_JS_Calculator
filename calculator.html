<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="wclassth=device-wclassth, initial-scale=1.0">
    <title>calculator</title>
    <link rel="stylesheet" href="calculator.css">

</head>
<body>
<section class="container">
<input type="text" id="tb" class="text-input" placeholder="0">
<button class="c1" id="AC" onclick="inputValue(33)">AC</button>
<button class="c2" id="del" onclick="inputValue(11)">DEL</button>
<button class="c2" id="div"  onclick="inputValue(88)">/</button>
<button class="d1" id="seven" onclick="inputValue(7)">7</button>
<button class="d1" id="eight" onclick="inputValue(8)">8</button>
<button class="d1" id="nine" onclick="inputValue(9)">9</button>
<button class="d1" id="mult" onclick="inputValue(77)">*</button>
<button class="e1" id="four" onclick="inputValue(4)">4</button>
<button class="e1" id="five" onclick="inputValue(5)">5</button>
<button class="e1" id="six" onclick="inputValue(6)">6</button>
<button class="e1" id="minus" onclick="inputValue(66)">-</button>
<button class="f1" id="one" onclick="inputValue(1)">1</button>
<button class="f1" id="two" onclick="inputValue(2)">2</button>
<button class="f1" id="three" onclick="inputValue(3)">3</button>
<button class="f1" id="plus" onclick="inputValue(55)">+</button>
<button class="g1" id="zero" onclick="inputValue(0)">0</button>
<button class="g1" id="dot" onclick="inputValue(99)">.</button>
<button class="h2" id="equals" onclick="inputValue(22)">=</button>


<script>
    
    var value1, value2, Result, ResultA, ResultB, ResultMem, ops, counter, rcode;
    
    // In order to work with multi-digits number, value1 set to array.
    value1 = [];
    value2 = [];
    Result = 0;
    ResultA = 0;
    ResultB = 0;
    ResultMem = 0;
    ops = "";
    rcode = 0;
    counter = 0;
    
    function displayValue(number){

      // Case when firt input in 
      if (counter % 2 == 0) {
        // append number.toString to vale1 array
        value1.push(number.toString());
        // concat input numbers to string
        let strNumber1 = value1.join("");

        // single variable
        // ResultA = Number(strNumber1);
        console.log("strNumber1:" + strNumber1 + " ResultA: " + ResultA);

        return strNumber1;
        // Case when Second input in
      } else {
        // append number.toString to vale2 array
        value2.push(number.toString());
        // concat input numbers to string
        let strNumber2 = value2.join("");
        
        // single variable
        // ResultB = Number(strNumber2);
        console.log("strNumber2:" + strNumber2 + " ResultB: " + ResultB);

        return strNumber2;
      }
    }

    function deleteNumber(){
      // Case when the first input value
      if (counter % 2 == 0) {
        value1.splice(-1, 1);
        let strNumber1 = value1.join("");
        if (strNumber1.length == 0 ) {
          return 0;
        } else {
          return strNumber1;
        }
        // Case when the second input value
      } else {
        value2.splice(-1, 1);
        let strNumber2 = value2.join("");
        if (strNumber2.length == 0) {
          return 0;
        } else {
          return strNumber2;
        }
      }

    }

    function AddNumbers(number1, number2){
      // Result = Result + inputValue

      // Result = Number(number1) + Number(number2);
      // textbox.value = Result;
      // // console.log("Result:" + Result);
      // rcode = 1;

      
      /////////// using double variable /////////////// working code
      let sum = 0;
      if (counter % 2 == 0) {
        sum = ResultA + Number(number1);
        ResultA = sum;
        console.log("Result Even:" + ResultA);
      } else { 
        sum = ResultB + Number(number2);
        ResultB = sum;
        console.log("Result Odd:" + ResultB);
      }

      Result = ResultA + ResultB;
      ResultMem = Result;

      console.log("ResultA: " + ResultA + " + ResultB: " + ResultB + " = " + Result);
      
      textbox.value = Result;
      rcode = 1;
      counter++;


      //// Result = Number(num1) + Number(num2);
      // console.log("Before ADD Result " + Result);
      // Result = Number(number1) + Number(number2);

      // // Save Result to ResultMem for continuos Addition
      // ResultMem = Result;
      
      // console.log("After ADD Result " + Result);

      // console.log("ResultA: " + ResultA + " + ResultB: " + ResultB + " = " + Result + " , ResultMem: " + ResultMem);
      // textbox.value = Result;
      // rcode = 1;
      // counter++;
      
    }

    function SubNumbers(number1, number2) {
      // Result = Result + (- 1 * inputValue)
      let tempResult1 = Number(number1);
      console.log("b Result: "+ Result);
      console.log("input 2: " + number2);

      // Result = Number(number1) - Number(number2);
      
      
      
      // Case when first input in
      if (number1.length == 0) {
        
      } else {
        Result = Result + (Number(number2) * -1);
        console.log("a Result: " + Result);
      }

      // // Case when first value(Result) in
      // if (number2.length == 0) {
      //   // tempResult2 set to 1 before it gets its own value
      //   tempResult2 = 1;
      //   Result = tempResult1 * tempResult2;
      //   // Case when second value in
      // } else {
      //   tempResult2 = Number(number2);
      //   Result = tempResult1 * tempResult2;
      // }



      textbox.value = Result;
      // console.log("Result:" + Result);
      rcode = 2;
    }

    function MultNumbers(number1, number2) {
      // Result = Result * inputValue
      let tempResult1 = Number(number1); // result
      let tempResult2 = Number(number2); // input number2 
     
      // Case when result = 0
      if( tempResult1 == 0){
        // return 0        
        Result = tempResult1 * Number(number2);
 
      // Case when result != 0
      } else {
          // Case when first value(Result) in
          if (number2.length == 0) {
            // tempResult2 set to 1 before it gets its own value
            tempResult2 = 1;
            Result = tempResult1 * tempResult2;
          // Case when second value in
          } else {
            tempResult2 = Number(number2);
            Result = tempResult1 * tempResult2;
          }
      }

      textbox.value = Result;
      rcode = 3;
    }

    function DivNumbers(number1, number2) {
      // Result = Result / inputValue
      if (Number(number2) == 0){
        textbox.value = "Can't divide by zero";
      } else {
        let inputNum1 = Number(number1);

        Result = Number(number1) / Number(number2);
        textbox.value = Result;
      }
      // console.log("Result:" + Result);
      rcode = 4;
    }

    function inputValue(bcode){
      // concat input numbers to string 
      let strNumber1 = value1.join("");
      let strNumber2 = value2.join("");

      switch (bcode) {
        case 1:
          textbox.value = displayValue(1);
          break;
        case 2:
          textbox.value = displayValue(2);
          break;
        case 3:
          textbox.value = displayValue(3);
          break;
        case 4:
          textbox.value = displayValue(4);
          break;
        case 5:
          textbox.value = displayValue(5);
          break;
        case 6:
          textbox.value = displayValue(6);
          break;
        case 7:
          textbox.value = displayValue(7);
          break;
        case 8:
          textbox.value = displayValue(8);
          break;
        case 9:
          textbox.value = displayValue(9);
          break;
        case 0:
          textbox.value = displayValue(0);
          break;
        case 55:
          // Plus
          textbox.value = Result;
          
          console.log("num1:" + strNumber1);
          console.log("num2:" + strNumber2);

          // working codoe
          AddNumbers(strNumber1, strNumber2);
          console.log("Conter: " + counter);
          // reset input array
          value2 = [];
          value1 = [];
          
          
          // single variable
          // AddNumbers(ResultA, ResultB);
          // double variables
          // or ResultA = Result


          // Single Variable
          // ResultA = 0;
          // ResultB = 0;

          // when? = continues 
          // ResultB = ResultMem;
          // we can move in to inputvalue()

          console.log("Value1/ResultA: " + ResultA);
          console.log("Value2/ResultB: " + ResultB);
          console.log("Result: " + Result);
          console.log("ResultMem: " + ResultMem);


          break;
        case 66:
          // Minus
          textbox.value = "";
          SubNumbers(Result, strNumber);
          // reset input array
          value1 = [];
          break;
        case 77:
          // Multiply
          textbox.value = "";
          MultNumbers(Result, strNumber);
          // reset input number
          value1 = [];
          break;
        case 88:
          // Divide
          textbox.value = "";
          DivNumbers(Result, strNumber);
          // reset input number
          value1 = [];
          break;
        case 99:
          // dot
          textbox.value = 99;
          break;
        case 11:
          // delete
          textbox.value = deleteNumber();
          break;
        case 22:
          // Display Result
          displayResult(rcode)
          // reset input number
                    
          value1 = [];
          value2 = [];
          // ResultA = 0;
          // ResultB = 0;
          
          //counter = 0;

          break;
        case 33:
          // AC
          // Reset result/variables to 0
          value1 = [];
          value2 = [];
          Result = 0;
          ResultA = 0;
          ResultB = 0;
          ResultMem = 0;
          counter = 0;
          rcode = 0;
          ops = "";
          textbox.value = 0;
          break;
      }
    }

function displayResult(rcode){
  // concat input numbers to string   
  let strNumber1 = value1.join("");
  let strNumber2 = value2.join("");

  switch (rcode) {
    case 1:
      // AddNumbers(ResultA, ResultB);
      // textbox.value = "from = " + Result;
      // console.log("print result?" + Result);
      
      // // if ResultA or ResultB is Empty 
      // if ( ResultB == 0){
      //   AddNumbers(Result, ResultA);
      // // Case when user click num1, + , num2, = clicked
      // } else {
      //   AddNumbers(ResultA, ResultB);
      // }
      AddNumbers(Result, strNumber2);
      
      ResultA = 0;
      ResultB = 0;
      ResultA = ResultMem;
      console.log("= ResultA : " + ResultA);
      console.log("= ResultB : " + ResultB);
      console.log("= ResultMem : " + ResultMem);
      console.log("= Conter: " + counter);
      // ResultA = Result;
      // ResultB = 0;
      // counter++;
      //ResultA = Result; 

      // value1 = [];
      // value2 = [];

      // how to check pattern



      break;
    case 2:
      SubNumbers(Result, strNumber);
      break;
    case 3:
      MultNumbers(Result, strNumber);
      break;
    case 4:
      DivNumbers(Result, strNumber);
      break;
  }
}

let divBtn=document.getElementById("div");
let multBtn=document.getElementById("mult");
let addBtn=document.getElementById("add");
let subBtn=document.getElementById("minus");
let dotBtn=document.getElementById("dot");
let eqBtn=document.getElementById("equals");
let n1=document.getElementById("one");
let n2=document.getElementById("two");
let n3=document.getElementById("three");
let n4=document.getElementById("four");
let n5=document.getElementById("five");
let n6=document.getElementById("six");
let n7=document.getElementById("seven");
let n8=document.getElementById("eight");
let n9=document.getElementById("nine");
let n0=document.getElementById("zero");
let textbox=document.getElementById("tb");

</script>
<!-- <script src="calculator.js"></script> -->
</section>
</body>
</html>